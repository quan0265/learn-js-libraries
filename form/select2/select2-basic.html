<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>select 2 multi</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>
<style type="text/css">
	.container {
		max-width: 1140px;
		margin: auto;
		margin-top: 100px;
	}
	.select2-container {
	    display: block;
	    min-width: 200px;
	    max-width: 200px;
	}
</style>


<!-- api test: https://api.github.com/search/repositories?term=sel&_type=query&q=sel  -->

<body>
<div class="container">
	<!-- multi select, template result, templage  -->
    <div class="s2-example">
        <select id="select1" class="js-states form-control" name="name">
            <option data-id="1" value="1">name 1</option>
            <option data-id="2" value="2">name 2</option>
            <option data-id="3" value="3">name 3</option>
            <option data-id="4" value="4">Lorem ipsum dolor sit amet consectetur adipisicing elit.</option>
        </select>
    </div>
    <!-- <pre data-fill-from="#js-code-example-basic-hide-search-multi"></pre> -->
</div>
    
<script type="text/javascript" id="js-code-example-basic-hide-search-multi">

	// setting html show
    function formatState(state) {
        if (!state.id) {
            return state.text;
        }
        console.log(state);
        console.log(state.element.getAttribute('data-id'));

        var baseUrl = "/user/pages/images/flags";
        var $state = $(
            '<span><img class="img-flag" /> <span></span></span>'
        );

        // Use .text() instead of HTML string concatenation to avoid script injection issues
        $state.find("span").text(state.text);
        $state.find("img").attr("src", baseUrl + "/" + state.element.value.toLowerCase() + ".png");

        return $state;
    };

    // setting html select item
    function formatResponse(res) {
    	console.log(res);
    	console.log(res.text);
    	var html = $(
    			'<span><span></span></span>'
    		);
    	html.find('span').text(res.text);
    	return html;
    }

    $('#select1').select2({
    	minimumInputLength: 0,
		// templateResult: formatResponse,
    	// templateSelection: formatState
    });

    // $('#select1').on('select2:opening select2:closing', function(event) {
    //     var $searchfield = $(this).parent().find('.select2-search__field');
    //     $searchfield.prop('disabled', true);
    // });

</script>


</body>

</html>